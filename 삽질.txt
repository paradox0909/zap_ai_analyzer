ì‚½ì§ˆ
2024 08 20 
jsoníŒŒì¼ì—ì„œ 
1. url
2. ê³µê²©êµ¬ë¬¸
3. ê³µê²©ì— ì“°ì¸ íŒŒë¼ë¯¸í„°
4. ê³µê²© ë©”ì„œë“œ
5. ì·¨ì•½ì  ëª…
ê³¼ ê°™ì´ ì·¨ì•½ì  ê²€ì¦ì— í•„ìš”í•œ í•­ëª©ì„ í•´ë‹¹ì†ŒìŠ¤ì½”ë“œì™€í•¨ê»˜ ì œë¯¸ë‹ˆì—ê²Œ íˆ¬ì²™í•´ì„œ ì •ì˜¤íƒ íŒë³„ì‹œí‚¤ê¸°
===========================================================


2024 08 20 ì˜¤ì „ 8ì‹œ 24ë¶„ 30ì´ˆ í•™êµ(ë‹¨ëŒ€ì†Œê³ )ì—ì„œ
Gemini api í…ŒìŠ¤íŠ¸ì¤‘, ì—ëŸ¬ ë°œìƒ
 paradoxx ğŸš€  î‚° ~/Desktop/Paradox/project/zap_ai_anal/zap_ai_analyzer î‚° î‚  develop Â± î‚° python3 gemini_test.py
WARNING: All log messages before absl::InitializeLog() is called are written to STDERR
I0000 00:00:1724109842.193914 4277436 check_gcp_environment_no_op.cc:29] ALTS: Platforms other than Linux and Windows are not supported
Traceback (most recent call last):
  File "/Users/paradoxmyung/Desktop/Paradox/project/zap_ai_anal/zap_ai_analyzer/gemini_test.py", line 11, in <module>
    print(response.text)
          ^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/google/generativeai/types/generation_types.py", line 436, in text
    raise ValueError(
ValueError: Invalid operation: The `response.text` quick accessor requires the response to contain a valid `Part`, but none were returned. Please check the `candidate.safety_ratings` to determine if the response was blocked.

2024 08 20 ì˜¤ì „ 8ì‹œ 27ë¶„
response.textë¥¼ ì‚¬ìš© ì¤‘, ì‘ë‹µì— ìœ íš¨í•œ Part ê°ì²´ê°€ í¬í•¨ë˜ì§€ ì•Šì•„ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë³´í†µ AIì˜ ì‘ë‹µì´ ì•ˆì „ í•„í„°ë§ì— ê±¸ë ¤ì„œ ì‘ë‹µì´ ì°¨ë‹¨ë˜ê±°ë‚˜ ë¹„ì–´ìˆì„ ë•Œ ë°œìƒí•œë‹¤ê³ í•¨.

https://memo772.tistory.com/entry/%EA%B8%B0%ED%83%80-%EC%98%A4%EB%A5%98-Invalid-operation-The-responsetext-quick-accessor-requires-the-response-to-contain-a-valid-Part-but-none-were-returned-Please-check-the-candidatesafetyratings-to-determine-if-the-response-was-blocked


ê·¸ì œëŠ” ëëŠ”ë° ì™œ ì˜¤ëŠ˜ì€ ì•ˆë˜ë‚˜ ì‹¶ì–´ì„œ
ë‹¤ì‹œ í•œë²ˆ ëŒë ¤ë´¤ëŠ”ë° ë¨.

Gemini : â€œê¶Œí˜„ì¤€ì€ í•œêµ­ì˜ í•´ì»¤ë¡œ, 2005ë…„ ê²Œì„ ê°œë°œì‚¬ ì—”ì”¨ì†Œí”„íŠ¸ë¥¼ í•´í‚¹í•´ ì†ŒìŠ¤ ì½”ë“œë¥¼ ìœ ì¶œì‹œí‚¨ ì‚¬ê±´ìœ¼ë¡œ ìœ ëª…í•˜ë‹¤â€

8/20 ì˜¤ì „ 8ì‹œ 41ë¶„
Php ì†ŒìŠ¤ì½”ë“œë¥¼ geminiì—ê²Œ ë³´ë‚´ëŠ” ê³¼ì •ì—ì„œ ì´ëŸ¬í•œ ì˜¤ë¥˜ë¥¼ ì¶œë ¥í•¨.
ï¿¼
í•´ì„í•´ë³´ë©´, Blob ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ì˜ˆìƒëœ ë°ì´í„° íƒ€ì…ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì—. ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.
ì•„ë§ˆ Blobì•ˆì— php ì†ŒìŠ¤ì½”ë“œê°€ ë“¤ì–´ê°€ë©´ì„œ ì˜¤ë¥˜ê°€ ë‚˜ëŠ”ë“¯í•¨.
í˜„ì¬ classëŠ” setì´ê¸° ë•Œë¬¸ì— (ì§‘í•©)
Geminiì—ê²Œ String, dict, listë¡œ ë³´ë‚´ë©´ ë ë“¯?
ask = ask= {search_content}, {login_content} ì—ì„œ,
ask = f"{search_content}\n\n{login_content}" í˜•ë³€í™˜ì„ í•´ì¤Œ


08/20 ì˜¤ì „ 8ì‹œ 53ë¶„
ask= {search_content}, {login_content}
print("ask:", ask)
response = model.generate_content(ask+"ì½”ë“œì— ëŒ€í•´ ì„¤ëª…í•´ì¤˜.")
ê·¼ë° ì•ˆë¨.
tupleê³¼ strì€ ë³‘í•©ì´ ë¶ˆê°€í•¨
í˜•ë³€í™˜ì— ëŒ€í•´ ì”¨ê²Œ ë°°ìš°ëŠ”ì¤‘ì„;
ï¿¼

response = model.generate_content(f"{ask} ì½”ë“œì— ëŒ€í•´ ì„¤ëª…í•´ì¤˜.")
ì½”ë“œë¥¼ ë°”ê¿ˆ
Format string ì‚¬ìš©.

ï¿¼
ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹ã…‹
ë³´ì•ˆì— ëŒ€í•œ ë¬¸ì œ ì—†ì´ë„ ì§€ì ì„ í•´ì¤Œ.ã…‹ã…‹


ì¼ë‹¨ jsoníŒŒì¼ì—ì„œ url, ê³µê²©êµ¬ë¬¸, ê³µê²©ì— ì“°ì¸ íŒŒë¼ë¯¸í„°, ê³µê²© ë©”ì„œë“œ, ì·¨ì•½ì  ëª…ì„ pythonìœ¼ë¡œ ê°€ì ¸ì™€ì•¼í•˜ê¸°ë•Œë¬¸ì— jsonì„ ë”°ë¡œ parseí•´ì¤˜ì•¼í• ë“¯í•¨.
parseí•˜ëŠ” ì½”ë“œ ì§œëŸ¬ ê°€ë´„ (8/20 ì˜¤ì „ 9ì‹œ 19ë¶„ 33ì´ˆ)

êµ¬ê¸€ì— python json parser ê²€ìƒ‰í•´ë´„.
https://ctkim.tistory.com/entry/%ED%8C%8C%EC%9D%B4%EC%8D%AC-json-%EB%AA%A8%EB%93%88
ì„¤ëª…ì´ ì˜ ë˜ì–´ ìˆìŒ.

 8ì›” 20ì¼ ì˜¤í›„ 3ì‹œ 42ë¶„ 
ì–´ë–»ê²Œ í•´ì•¼í• ì§€ ê°ì´ ì•ˆì¡í˜

8ì›” 21ì¼ ì˜¤ì „ 10ì‹œ 13ë¶„
ì–´ë–»ê²Œ í•´ì•¼í• ì§€ ì—¬ì „íˆ ê°ì´ ì•ˆì¡í˜;
jsonê°’ íŒŒì‹±ì´ì•ˆë¨

json_data = [
    "method",
    "evidence",
    "description",
    "inputVector",
    "url",
    "param",
    "name",
]
ì´ë ‡ê²Œí•˜ê³  
keyê°’ì— ë§ëŠ” ì™¸ë¶€ jsoníŒŒì¼

ì € ìœ„ì— ìˆëŠ” í•­ëª©ë“¤ë§Œ ë¶ˆëŸ¬ì˜¤ê³  ì‹¶ì€ë° ê·¸ê²Œ ì•ˆë¨.

ì œë©”ë‹ˆí•œí…Œ ê·¸ëƒ¥ ì „ë¶€ ë‹¤ ê¼´ì•„ë°•ì•„ë³´ì.

8/21 ì˜¤ì „ 10ì‹œ 52ë¶„
https://www.google.com/search?q=TypeError%3A+unhashable+type%3A+%27dict%27&rlz=1C5CHFA_enKR1050KR1050&oq=TypeError%3A+unhashable+type%3A+%27dict%27&gs_lcrp=EgZjaHJvbWUyBggAEEUYOTIGCAEQRRg60gEHMTU4ajBqN6gCALACAA&sourceid=chrome&ie=UTF-8

ë˜ type error

8/21 ì˜¤ì „ 11ì‹œ 06ë¶„
ï¿¼
geminiëŠ” ë°”ë³´ë‹¤.

8/21 ì˜¤ì „ 11ì‹œ 59ë¶„ 10ì´ˆ
ï¿¼
ï¿¼

8ì›” 21ì¼ ì˜¤í›„ 10ì‹œ 49ë¶„
main.py + gemini_main.py ë³‘í•© ê³¼ì • ê±°ì¹˜ë ¤ê³ í•¨
ì–´ë–»ê²Œ í• ê¹Œ? ê³ ë¯¼í•´ë³¸ ê²°ê³¼
1. .json fileë¡œ ì €ì¥í•˜ë˜ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì„œ ì´ë¦„ì´ ë™ì¼í•œ íŒŒì¼ë¡œ ì €ì¥ << íŒŒì´ì¬ ì½”ë“œë¥¼ 2íšŒ ì´ìƒ ì‹¤í–‰ ì‹œ ë®ì–´ì“°ê¸°ê¹Œì§€ í¬í•¨í•œ ë¡œì§
2. geminiê°€ jsonì„ ì½ì„ ìˆ˜ ìˆê²Œë”

ì˜¤í›„ 11ì‹œ 25ë¶„
geminiê°€ ëŒ€ë‹µì„ ì˜ ì•ˆí•´ì„œ ëŒ€ë‹µì„ ì˜ í•  ìˆ˜ ìˆê²Œë” ìœ ë„ì¤‘.
Spiderë‘ Active scan ë•Œë¦¬ê³  geminiì—ê²Œ ëŒ€ë‹µì„ ë°›ìœ¼ë‹ˆ ë„ˆë¬´ ëŠë¦¬ë‹¤.
í•œ 2ë¶„ ì´ìƒì”© ê±¸ë¦¬ëŠ”ë“¯

8ì›” 23ì¼ ì˜¤ì „ 03ì‹œ 03ë¶„
WARNING: All log messages before absl::InitializeLog() is called are written to STDERR
I0000 00:00:1724349678.960795 5883961 check_gcp_environment_no_op.cc:29] ALTS: Platforms other than Linux and Windows are not supported
Traceback (most recent call last):
  File "/Users/paradoxmyung/Desktop/Paradox/project/zap_ai_anal/zap_ai_analyzer/main.py", line 118, in <module>
    search()
  File "/Users/paradoxmyung/Desktop/Paradox/project/zap_ai_anal/zap_ai_analyzer/main.py", line 110, in search
    print(response.text)
          ^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/google/generativeai/types/generation_types.py", line 436, in text
    raise ValueError(
ValueError: Invalid operation: The `response.text` quick accessor requires the response to contain a valid `Part`, but none were returned. Please check the `candidate.safety_ratings` to determine if the response was blocked.

8ì›” 23ì¼ ì˜¤ì „ 7ì‹œ 50ë¶„
https://ai.google.dev/gemini-api/docs/json-mode?hl=ko&_gl=1*buicv5*_up*MQ..*_ga*MTY4NjYwMTI1My4xNzI0MzY2OTc0*_ga_P1DBVKWT6V*MTcyNDM2Njk3NC4xLjAuMTcyNDM2Njk3NC4wLjAuMTU4MzM0NzI0Mw..&lang=python

